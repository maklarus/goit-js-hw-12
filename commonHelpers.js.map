{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Описаний в документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst instanse = new SimpleLightbox('.gallery a');\n\nexport function renderImgs({ hits }) {\n  if (hits.length === 0) {\n    gallery.innerHTML = '';\n    return;\n  }\n  const galleryTemplate = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"flex-style\">\n          <div class=\"p-style\">\n            <p class=\"p1\">Likes</p>\n            <p class=\"p2\">${likes}</p>\n          </div>\n          <div class=\"p-style\">\n            <p class=\"p1\">Views</p>\n            <p class=\"p2\">${views}</p>\n          </div>\n          <div class=\"p-style\">\n            <p class=\"p1\">Comments</p>\n            <p class=\"p2\">${comments}</p>\n          </div>\n          <div class=\"p-style\">\n            <p class=\"p1\">Downloads</p>\n            <p class=\"p2\">${downloads}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = galleryTemplate;\n\n  instanse.refresh();\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\n\nimport { renderImgs } from './render-functions';\n\nconst API_URL = 'https://pixabay.com/api';\nconst API_KEY = '42570593-7f6e60f401c84611dfc2b0674';\nconst searchParams = new URLSearchParams({\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n});\n\nconst addLoader = () => {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'inline-block';\n};\n\nexport const fetchImgs = searchValue => {\n  addLoader();\n  setTimeout(function () {\n    fetch(`${API_URL}/?key=${API_KEY}&q=${searchValue}&${searchParams}`)\n      .then(r => r.json())\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n          return data;\n        } else {\n          return data;\n        }\n      })\n      .then(renderImgs)\n      .catch(error =>\n        iziToast.error({\n          title: 'Error',\n          message: `Bad request`,\n          position: 'topRight',\n        })\n      )\n      .finally(() => {\n        const loader = document.querySelector('.loader');\n        loader.style.display = 'none';\n      });\n  }, 250);\n};\n","import 'izitoast/dist/css/iziToast.min.css';\n\nimport iziToast from 'izitoast';\nimport { fetchImgs } from './js/pixabay-api';\n\nconst searchForm = document.querySelector('form');\nconst searchInput = document.querySelector('input[name=\"search\"]');\n\nfunction search(event) {\n  event.preventDefault();\n  if (searchInput.value.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter text into the input field.',\n      position: 'topRight',\n    });\n    return;\n  }\n  fetchImgs(searchInput.value.trim());\n}\n\nsearchForm.addEventListener('submit', search);\n"],"names":["gallery","instanse","SimpleLightbox","renderImgs","hits","galleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_URL","API_KEY","searchParams","addLoader","loader","fetchImgs","searchValue","r","data","iziToast","error","searchForm","searchInput","search","event"],"mappings":"6vBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAW,CAAE,KAAAC,GAAQ,CACnC,GAAIA,EAAK,SAAW,EAAG,CACrBJ,EAAQ,UAAY,GACpB,MACD,CACD,MAAMK,EAAkBD,EACrB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,mBAEIL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKpBC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA,YAKhC,EACA,KAAK,EAAE,EAEVZ,EAAQ,UAAYK,EAEpBJ,EAAS,QAAO,CAClB,CCjDA,MAAMY,EAAU,0BACVC,EAAU,qCACVC,EAAe,IAAI,gBAAgB,CACvC,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKC,EAAY,IAAM,CACtB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,cACzB,EAEaC,EAAYC,GAAe,CACtCH,IACA,WAAW,UAAY,CACrB,MAAM,GAAGH,CAAO,SAASC,CAAO,MAAMK,CAAW,IAAIJ,CAAY,EAAE,EAChE,KAAKK,GAAKA,EAAE,MAAM,EAClB,KAAKC,IACCA,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACtB,CAAW,EACMD,EAIV,EACA,KAAKlB,CAAU,EACf,MAAMoB,GACLD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,cACT,SAAU,UACpB,CAAS,CACF,EACA,QAAQ,IAAM,CACb,MAAML,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MAC/B,CAAO,CACJ,EAAE,GAAG,CACR,EC7CMO,EAAa,SAAS,cAAc,MAAM,EAC1CC,EAAc,SAAS,cAAc,sBAAsB,EAEjE,SAASC,EAAOC,EAAO,CAErB,GADAA,EAAM,eAAc,EAChBF,EAAY,MAAM,KAAI,IAAO,GAAI,CACnCH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,MACD,CACDJ,EAAUO,EAAY,MAAM,KAAM,CAAA,CACpC,CAEAD,EAAW,iBAAiB,SAAUE,CAAM"}